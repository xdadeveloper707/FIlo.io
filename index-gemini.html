<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Galaxy Machines — Single Page (HTML)</title>
  <style>
    :root {
      --bg1:#0b1d3a; --bg2:#09132a; --bg3:#050915;
      --glass: rgba(255, 255, 255, .06);
      --border: rgba(255, 255, 255, .1);
      --shadow-sm: 0 4px 12px rgba(0,0,0,.25);
      --shadow-md: 0 8px 32px rgba(0,0,0,.3);
      --text: #e6eefc;
      --muted: rgba(230,238,252,.75);
      --gradA: rgba(99,102,241,.25);
      --gradB: rgba(236,72,153,.18);
      --gradC: rgba(14,165,233,.18);
      --accent:#7cc7ff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,Helvetica,sans-serif;color:var(--text);background:#000;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1200px;margin:0 auto;padding:0 20px}
    header.nav{position:sticky;top:0;z-index:40;backdrop-filter:blur(12px);background:rgba(11, 29, 58, 0.7);border-bottom:1px solid var(--border); box-shadow: var(--shadow-md);}
    header .bar{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:8px;font-weight:600}
    .badge{margin-left:8px;padding:2px 8px;border-radius:12px;background:var(--glass);border:1px solid var(--border);font-size:12px}
    nav.links{display:flex;gap:24px;font-size:14px;color:var(--muted)}
    nav.links a{transition: color 0.3s ease;}
    nav.links a:hover{color:#fff}
    .grid{display:grid;gap:24px}
    .grid-2{grid-template-columns:280px 1fr}
    .sidebar{position:sticky;top:80px;padding:24px 12px;border-right:1px solid var(--border);background:var(--glass);backdrop-filter:blur(12px);overflow:auto; border-radius: 0 16px 16px 0;}
    .side-title{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:rgba(230,238,252,.6);margin:0 0 8px;display:flex;align-items:center;gap:6px}
    .side-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
    .side-item a{display:flex;align-items:center;gap:8px;color:var(--muted);transition:transform 0.3s ease, color 0.3s ease; cursor: pointer;}
    .side-item a:hover{color:#fff;transform:translateX(4px)}
    .hero{padding:96px 0}
    .title{font-weight:700;font-size:48px;line-height:1.1}
    .title .grad{background:linear-gradient(90deg,#7cc7ff,#d6dbff,#f8a8e8);-webkit-background-clip:text;background-clip:text;color:transparent}
    .lead{margin-top:16px;max-width:720px;color:var(--muted);font-size:18px}
    .btns{margin-top:24px;display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:12px 16px;border-radius:14px;border:1px solid var(--border);background:var(--glass);color:#e8eeff;cursor:pointer; transition: transform 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;}
    .btn:hover{transform: scale(1.05);}
    .btn.primary{background:rgba(99,102,241,.6);border-color:rgba(255,255,255,.3)}
    .btn.primary:hover{background:rgba(99,102,241,.8);}
    .pills{margin-top:24px;display:flex;gap:10px;flex-wrap:wrap}
    .pill{padding:6px 10px;border-radius:999px;background:var(--glass);border:1px solid var(--border);font-size:12px}
    section.block{padding:64px 0;opacity:0;transform:translateY(16px);transition:opacity .6s ease,transform .6s ease}
    section.block.reveal{opacity:1;transform:translateY(0)}
    .cards{display:grid;gap:24px;grid-template-columns:repeat(3,minmax(0,1fr))}
    .card{position:relative;border-radius:16px;overflow:hidden;background:var(--glass);border:1px solid var(--border);padding:24px;backdrop-filter:blur(10px); box-shadow: var(--shadow-sm); transition: transform 0.3s ease, box-shadow 0.3s ease;}
    .card:hover { transform: translateY(-8px); box-shadow: var(--shadow-md);}
    .shimmer::before{content:"";pointer-events:none;position:absolute;inset:-2px;opacity:0;transition:opacity .25s ease;background:linear-gradient(110deg,transparent,rgba(255,255,255,.20),transparent);transform:translateX(-60%);animation:shimmer 2.2s linear infinite}
    .card:hover.shimmer::before{opacity:1}
    @keyframes shimmer{0%{transform:translateX(-60%)}100%{transform:translateX(60%)}}
    .badge2{display:inline-block;padding:2px 8px;border-radius:10px;background:var(--glass);border:1px solid var(--border);font-size:12px;color:var(--muted)}
    footer{border-top:1px solid var(--border);background:rgba(11, 29, 58, 0.7);backdrop-filter:blur(12px);padding:32px 0;color:var(--muted)}
    /* FX layers */
    canvas#starfield{position:fixed;inset:0;z-index:-10;width:100vw;height:100vh}
    .overlayA,.overlayB,.overlayC,.noise{position:fixed;inset:0;pointer-events:none;z-index:-10}
    .overlayA{background:radial-gradient(ellipse at center,rgba(99,102,241,.15),transparent 60%);mix-blend:screen}
    .overlayB{background:linear-gradient(transparent,rgba(0,0,0,.4))}
    .overlayC{opacity:.6;background:radial-gradient(600px 300px at 20% 10%, var(--gradA), transparent),radial-gradient(500px 250px at 80% 20%, var(--gradB), transparent),radial-gradient(700px 350px at 50% 80%, var(--gradC), transparent)}
    .noise{mix-blend-mode:soft-light;background-size:cover}
    .float-orbs > div{position:absolute;border-radius:9999px;filter:blur(40px);animation:floatOrb 12s ease-in-out infinite}
    .float-orbs .o1{top:80px;left:40px;width:280px;height:280px;background:linear-gradient(135deg,rgba(125,180,255,.15),rgba(80,110,255,.1))}
    .float-orbs .o2{right:80px;bottom:40px;width:320px;height:320px;background:linear-gradient(135deg,rgba(255,120,210,.15),rgba(120,200,255,.1));animation-duration:14s;animation-delay:-2s}
    .float-orbs .o3{left:50%;top:50%;transform:translate(-50%,-50%);width:380px;height:380px;background:linear-gradient(135deg,rgba(120,160,255,.1),rgba(240,140,255,.1));animation-duration:18s;animation-delay:-4s}
    @keyframes floatOrb{0%{transform:translate(0,0)}50%{transform:translate(10px,-20px)}100%{transform:translate(0,0)}}
    /* Modal */
    .modal-wrap{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:60}
    .modal-wrap.open{display:flex}
    .modal-bg{position:absolute;inset:0;background:rgba(0,0,0,.6)}
    .modal{position:relative;z-index:1;width:min(800px,92vw);max-height: 80vh; overflow-y: auto; border-radius:16px;border:1px solid var(--border);background:var(--glass);backdrop-filter:blur(20px);padding:20px; box-shadow: var(--shadow-md);}
    .modal h3{margin:0 0 16px; font-size: 24px;}
    .modal h4{margin: 24px 0 8px; font-size: 18px; color: var(--text);}
    .modal p { line-height: 1.6; color: var(--muted); margin: 0 0 1em; }
    .modal p:last-child { margin-bottom: 0; }
    .modal ul { list-style-position: inside; padding-left: 0; margin: 0; color: var(--muted); }
    .modal ol { list-style-position: inside; padding-left: 0; margin: 0; color: var(--muted); }
    .modal li { margin-bottom: 8px; line-height: 1.6; }
    .close-btn{position:absolute;right:14px;top:14px;background:rgba(255,255,255,.1);border:1px solid var(--border);border-radius:10px;color:var(--text);padding:6px 8px;cursor:pointer}
    .scrollbar::-webkit-scrollbar{height:8px}
    .scrollbar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2);border-radius:8px}
    /* Top progress bar */
    .progress{position:fixed;top:0;left:0;right:0;height:3px;background:transparent;z-index:70}
    .progress > div{height:100%;background:linear-gradient(90deg,#7cc7ff,#8ea0ff,#f39be0);width:0%}
    /* Cursor FX */
    .cursor-dot{position:fixed;width:14px;height:14px;background:rgba(255,255,255,.6);border-radius:9999px;pointer-events:none;z-index:80;filter:blur(1px);transform:translate(-50%,-50%)}
    .particle{position:fixed;width:8px;height:8px;border-radius:9999px;pointer-events:none;z-index:80;animation:explode .6s ease forwards}
    @keyframes explode{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(3)}}
    /* Utilities */
    .mt-16{margin-top:64px}
    .mb-10{margin-bottom:40px}
    .flex{display:flex} .gap-8{gap:32px} .gap-4{gap:16px} .gap-2{gap:8px}
    .items-center{align-items:center} .justify-between{justify-content:space-between}
    .btn-link{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;background:var(--glass);border:1px solid var(--border); transition: transform 0.3s ease;}
    .btn-link:hover {transform: scale(1.05);}
    .input{border-radius:12px;border:1px solid var(--border);background:var(--glass);color:var(--text);padding:10px 12px;outline:none; transition: box-shadow 0.3s ease;}
    .input:focus {box-shadow: 0 0 0 2px var(--accent);}
  </style>
</head>
<body>
  <div class="progress"><div id="progressBar"></div></div>
  <canvas id="starfield"></canvas>
  <div class="float-orbs"><div class="o1"></div><div class="o2"></div><div class="o3"></div></div>
  <div class="overlayA"></div>
  <div class="overlayB"></div>
  <div class="overlayC"></div>
  <div class="noise" style="background-image:url('data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'1600\' height=\'900\'><filter id=\'n\'><feTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'2\'/></filter><rect width=\'100%\' height=\'100%\' filter=\'url(%23n)\' opacity=\'0.03\'/></svg>')"></div>
  <div class="cursor-dot" id="cursorDot"></div>

  <header class="nav">
    <div class="wrap bar">
      <div class="brand">🚀 Galaxy Machines <span class="badge">v1.0</span></div>
      <nav class="links">
        <a href="#features">Features</a>
        <a href="#projects">Projects</a>
        <a href="#capabilities">Capabilities</a>
      </nav>
      <div class="flex gap-2">
        <a class="btn-link" href="https://lico.gitbook.io/lico.-docs/" target="_blank">📘 GitBook</a>
        <a class="btn-link" href="https://github.com/xdadeveloper707/FIlo.io" target="_blank">🐙 GitHub</a>
      </div>
    </div>
  </header>

  <div class="wrap grid grid-2 mt-16">
    <aside class="sidebar">
      <p class="side-title">Work Project</p>
      <ul class="side-list">
        <li class="side-item"><a id="mechanicalLink">🔧 Mechanical Machine</a></li>
        <li class="side-item"><a href="#software">💻 Software Project</a></li>
        <li class="side-item"><a href="#design">🖥️ Design Project</a></li>
        <li class="side-item"><a href="#computer">🧠 Computer Engineering</a></li>
      </ul>
      <p class="side-title" style="margin-top:18px">Getting Started</p>
      <ul class="side-list">
        <li class="side-item"><a id="aboutLink">About Me</a></li>
        <li class="side-item"><a id="experienceLink">Work Experience</a></li>
        <li class="side-item"><a id="skillsLink">Skills & Expertise</a></li>
        <li class="side-item"><a id="languagesLink">Languages</a></li>
        <li class="side-item"><a id="visionLink">Vision & Mission</a></li>
        <li class="side-item"><a id="contactLink">Contact</a></li>
      </ul>
    </aside>

    <main>
      <section class="hero">
        <h1 class="title">Industrial <span class="grad">Automation</span>, Galaxy‑Grade Design.</h1>
        <p class="lead">Showcase your SMT, AOI, SPI, and inline X‑ray projects in a glassy, dark‑blue universe. Built for speed, precision, and wow‑factor.</p>
        <div class="btns">
          <button class="btn primary">Launch Demo</button>
          <button class="btn">Explore Projects</button>
        </div>
        <div class="pills">
          <span class="pill">3D AOI • VT‑S1080V2</span>
          <span class="pill">TRI 2D AOI • 3D SPI</span>
          <span class="pill">Inline X‑ray • Seamark</span>
          <span class="pill">Barcode Integrations</span>
        </div>
      </section>

      <section id="features" class="block wrap">
        <div class="mb-10"><h2>Core Features</h2><p class="lead">Designed to present complex manufacturing data with clarity and style.</p></div>
        <div class="cards">
          <article class="card shimmer">
            <h3>⚡ Real‑time Dashboards</h3>
            <p>Live KPIs, pass‑rate, void‑rate trends with smooth graphs and exports.</p>
          </article>
          <article class="card shimmer">
            <h3>🛡️ Traceability</h3>
            <p>WO, lot, PCB, and LED index linked to images, AOI results, and X‑ray.</p>
          </article>
          <article class="card shimmer">
            <h3>🚀 Fast & Responsive</h3>
            <p>Optimized frontend + API for snappy navigation even on the shop floor.</p>
          </article>
        </div>
      </section>

      <section id="projects" class="block wrap">
        <div class="mb-10"><h2>Showcase Projects</h2><p class="lead">Hand‑picked case studies from your production line.</p></div>
        <div class="cards">
          <article class="card shimmer">
            <h3>🧠 T1UL Lower • 160 LED / PCB</h3>
            <p>3D AOI program & inline X‑ray correlation on flexible PCB.</p>
            <div class="flex gap-2"><span class="badge2">AOI 3D</span><span class="badge2">Void Analysis</span></div>
            <p style="margin-top:8px;font-size:14px;color:var(--muted)">Pass 98.4%</p>
          </article>
          <article class="card shimmer">
            <h3>🔍 T1UL Upper • 9 LED / PCB</h3>
            <p>Inline X‑ray (Seamark) with SPI pre-check; LED index mapping.</p>
            <div class="flex gap-2"><span class="badge2">Inline X‑ray</span><span class="badge2">SPI</span></div>
            <p style="margin-top:8px;font-size:14px;color:var(--muted)">Void ≤ 8%</p>
          </article>
          <article class="card shimmer">
            <h3>📦 Barcode Flow • Datalogic</h3>
            <p>Matrix 210 integration, controlled trigger, UTF‑8 clean parsing.</p>
            <div class="flex gap-2"><span class="badge2">RS‑232</span><span class="badge2">UTF‑8</span></div>
            <p style="margin-top:8px;font-size:14px;color:var(--muted)">Latency &lt; 120ms</p>
          </article>
        </div>
      </section>
    </main>
  </div>


  <footer>
    <div class="wrap flex items-center justify-between">
      <div>© <span id="year"></span> Galaxy Machines. All rights reserved.</div>
      <div class="flex gap-4">
        <a href="#">Privacy</a>
        <a href="#">Terms</a>
        <a id="footerContactLink">Contact</a>
      </div>
    </div>
  </footer>

  <div id="mechanicalModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
      <button class="close-btn">✖</button>
      <h3>🔧 Mechanical Machine</h3>
      <div class="modal-content">
        <h4>From Atoms to Automation</h4>
        <p>Welcome to the "Mechanical Machine" section. This is more than just a catalog of equipment; it's a journey into the heart of modern manufacturing, where mechanical precision meets software intelligence to turn ideas into reality. Here, I detail my understanding and experience with a wide range of machinery—from those requiring a skilled human touch to those operating within a fully automated system.</p>
        <p>My vision for machinery is to see each device not as a standalone tool, but as a critical node in a larger production ecosystem. The story of any product begins with understanding its core materials, continues with it being shaped with absolute precision, assembled at high speed, and finally validated by tireless digital eyes.</p>
        
        <h4>Scope of Expertise</h4>
        <p>My knowledge spans several key pillars of industrial machinery, which complement each other to create efficient and reliable workflows:</p>
        <p><strong>Electronics Manufacturing (SMT Line):</strong> A deep proficiency in the Surface Mount Technology production line. This involves not just one machine, but the orchestration of an entire process: from Solder Paste Inspection (SPI), to high-precision component placement, and final inspection using AOI (Automated Optical Inspection) and X-Ray to ensure flawless solder joints.</p>
        <p><strong>Precision Machining (CNC Machines):</strong> A fundamental understanding of CNC (Computer Numerical Control) machines, which form the backbone of mechanical component creation. This is where digital designs are transformed into physical objects with micron-level accuracy, whether for prototypes, jigs, or final parts.</p>
        <p><strong>Material Analysis (Rubber Analyze Machines):</strong> Before a product can be formed, the quality of its raw materials must be guaranteed. My experience with rubber and other material analysis machines provides insight into how the fundamental properties of a substance will impact the final product's performance and durability.</p>
        <p><strong>Automation & Systems Integration (Automation & Universal Equipment):</strong> Expertise in designing and understanding the automation systems that act as the "glue" for the entire process. This includes robotics, conveyor systems, sensors, and custom universal equipment designed to integrate different machines into a seamless and efficient workflow.</p>
        
        <h4>Core Concept: The Integrated Manufacturing Workflow</h4>
        <p>In the following sub-sections, you will find more than just technical specifications. You will see how these machines "talk" to one another.</p>
        <ol>
            <li><strong>The Foundation:</strong> The process begins with Analysis Machines to ensure our base materials are of the highest quality.</li>
            <li><strong>The Form:</strong> It continues with CNC Machines, which shape the framework or components with high precision.</li>
            <li><strong>The Assembly:</strong> The workflow then moves to the SMT Line, where electronic components are assembled onto circuit boards at incredible speeds.</li>
            <li><strong>The Validation:</strong> At every critical stage, Inspection Machines (AOI & X-Ray) act as the gatekeepers of quality.</li>
            <li><strong>The Integration:</strong> All of these stages are connected by Automation Systems, ensuring a continuous and uninterrupted production flow.</li>
        </ol>
        <p>This section is a living document of my experience in the world of machinery. It stands as a testament to the fact that behind every advanced product lies a symphony of machines working in perfect harmony.</p>
      </div>
    </div>
  </div>

  <div id="aboutModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
        <button class="close-btn">✖</button>
        <h3>About Me</h3>
        <div class="modal-content">
            <p>My name is Richo Listiantono (李克), an Indonesian engineer who has lived and worked in Taiwan for more than 7 years.</p>
            <p>I am passionate about technology and engineering, with strong academic training in Computer-Aided Industrial Design and Computer & Network Engineering.</p>
            <p>I began my career journey in Taiwan from internship, part-time, and full-time roles across different industries. Through these experiences, I developed a versatile background that combines mechanical engineering, electronics manufacturing, and software integration.</p>
            <p>My professional mission is to create innovative, reliable, and cost-effective solutions that enhance quality, efficiency, and sustainability in manufacturing.</p>
            <img src="https://images.unsplash.com/photo-1550751827-4138d04d475d?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1170&amp;q=80" alt="Circuit Board" style="width: 100%; border-radius: 12px; margin-top: 16px;">
        </div>
    </div>
  </div>

  <div id="experienceModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
      <button class="close-btn">✖</button>
      <h3>💼 Work Experience</h3>
      <div class="modal-content">
        <h4>SMT Engineer – Lianjia Optoelectronics Co., Ltd. (2024–Present)</h4>
        <ul>
            <li>Designed and continuously improved SMT assembly processes.</li>
            <li>Troubleshooted and resolved process abnormalities.</li>
            <li>Enhanced yield and reduced rejection rates by optimizing pass rates.</li>
            <li>Implemented and verified special manufacturing procedures.</li>
            <li>Adjusted parameters for SMT process optimization.</li>
            <li>Evaluated and integrated new materials and components.</li>
        </ul>

        <h4>Mechanical Engineer – Ucan Technology Co., Ltd. (2022–2024)</h4>
        <ul>
            <li>Built rubber analysis machines from design to delivery.</li>
            <li>Assembled and calibrated rheometers, viscometers, and universal testers.</li>
            <li>Performed mechanical, electrical, and calibration tasks.</li>
            <li>Collaborated with customers and multiple technical teams.</li>
        </ul>

        <h4>Operator – Yuan Tai Hing Enterprise Co., Ltd. (2018–2022)</h4>
        <ul>
            <li>Operated production machines from raw materials to final goods.</li>
            <li>Managed packaging, placement, and shipment of finished products.</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="skillsModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
      <button class="close-btn">✖</button>
      <h3>🛠️ Skills & Expertise</h3>
      <div class="modal-content">
        <h4>Engineering & Design</h4>
        <ul>
            <li><strong>SolidWorks (4+ years):</strong> Advanced 3D modeling, technical drawings, and product/system design.</li>
            <li>Machine assembly, calibration, wiring, alignment, and testing.</li>
            <li>Temperature calibration with precision reference sensors.</li>
        </ul>

        <h4>SMT & Inspection</h4>
        <ul>
            <li><strong>3D AOI (Omron VT-S1080V2):</strong> Setup, programming, defect analysis, MES integration, golden sample verification.</li>
            <li><strong>TRI 2D AOI / SPI 3D:</strong> Debugging false calls, adjusting programs, improving efficiency.</li>
            <li><strong>IPC-A-610:</strong> Standards for PCB quality, solder joints, reliability, and dimensional/electrical performance.</li>
            <li><strong>X-Ray Inspection (Inline & Offline):</strong> Defect analysis, NDT, radiation safety, system optimization.</li>
        </ul>

        <h4>Software & Process Control</h4>
        <ul>
            <li>Programming with <strong>Python</strong> for automation and data analysis.</li>
            <li>MES integration for inspection data traceability.</li>
            <li>Process optimization and troubleshooting.</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div id="languagesModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
      <button class="close-btn">✖</button>
      <h3>🌐 Languages</h3>
      <div class="modal-content">
        <ul>
          <li><strong>English:</strong> Proficient in reading, mastery in writing, moderate in speaking/listening.</li>
          <li><strong>Indonesian:</strong> Native fluency.</li>
          <li><strong>Chinese:</strong> Basic listening, speaking, and reading.</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="visionModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
      <button class="close-btn">✖</button>
      <h3>Vision & Mission</h3>
      <div class="modal-content">
        <p>Content for Vision & Mission goes here.</p>
      </div>
    </div>
  </div>

  <div id="contactModal" class="modal-wrap">
    <div class="modal-bg"></div>
    <div class="modal">
        <button class="close-btn">✖</button>
        <h3>Let’s build your galaxy</h3>
        <div class="modal-content">
            <p class="lead" style="margin-top: -8px; margin-bottom: 16px;">Tell us about your machine project and we’ll craft a stellar site.</p>
            <form class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr));gap:12px">
                <input placeholder="Your name" class="input"/>
                <input placeholder="Email" class="input"/>
                <input placeholder="Company / Team" class="input"/>
                <textarea placeholder="Tell us about your machines, AOI/SPI models, and goals…" style="grid-column:1/-1;height:120px" class="input"></textarea>
                <div class="flex items-center justify-between" style="grid-column:1/-1">
                    <div style="font-size:14px;color:var(--muted)">✉️ We reply in 24 hours</div>
                    <div class="flex gap-2">
                        <button class="btn primary" type="button">Send Message</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
  </div>


<script>
// year
document.getElementById('year').textContent = new Date().getFullYear();

// scroll reveal + progress
const blocks = Array.from(document.querySelectorAll('section.block'));
const progressBar = document.getElementById('progressBar');
const onScroll = () => {
  const h = document.documentElement;
  const v = (h.scrollTop)/(h.scrollHeight - h.clientHeight || 1);
  progressBar.style.width = (v*100).toFixed(2)+'%';
};
onScroll();
window.addEventListener('scroll', onScroll, {passive:true});

const io = 'IntersectionObserver' in window ? new IntersectionObserver((es)=>{
  es.forEach(e=> e.isIntersecting && e.target.classList.add('reveal'));
},{threshold:.15}) : null;
blocks.forEach(b=> io ? io.observe(b) : b.classList.add('reveal'));

// --- MODAL CONTROL ---
function setupModal(linkId, modalId) {
    const link = document.getElementById(linkId);
    const modal = document.getElementById(modalId);
    // Also check for footer link if it exists
    const footerLink = document.getElementById('footer' + linkId.charAt(0).toUpperCase() + linkId.slice(1));
    
    if (!link || !modal) return;

    const openModal = (e) => {
        e.preventDefault();
        modal.classList.add('open');
    };
    
    const closeModal = () => {
        modal.classList.remove('open');
    };

    link.addEventListener('click', openModal);
    if(footerLink) footerLink.addEventListener('click', openModal);

    modal.querySelector('.close-btn').addEventListener('click', closeModal);
    modal.querySelector('.modal-bg').addEventListener('click', closeModal);
}

// Setup all modals
setupModal('mechanicalLink', 'mechanicalModal');
setupModal('aboutLink', 'aboutModal');
setupModal('experienceLink', 'experienceModal');
setupModal('skillsLink', 'skillsModal');
setupModal('languagesLink', 'languagesModal');
setupModal('visionLink', 'visionModal');
setupModal('contactLink', 'contactModal');


// Cursor FX
const dot = document.getElementById('cursorDot');
window.addEventListener('mousemove', (e)=>{
  dot.style.left = e.clientX+'px';
  dot.style.top = e.clientY+'px';
});
window.addEventListener('click', (e)=>{
  const span = document.createElement('span');
  span.className='particle';
  const hue = Math.floor(200 + Math.random()*80);
  span.style.left = e.clientX+'px';
  span.style.top = e.clientY+'px';
  span.style.background = `hsl(${hue} 100% 70% / .9)`;
  span.style.boxShadow = `0 0 12px hsl(${hue} 100% 70% / .8)`;
  document.body.appendChild(span);
  setTimeout(()=> span.remove(), 600);
});

// Starfield (canvas)
(function initStarfield(){
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let dpr = Math.max(1, window.devicePixelRatio || 1);
  let w=0,h=0, anim;
  const L = [
    {n:120,s:0.05,r:[.6,1],a:.7},
    {n:80, s:0.12,r:[.9,1.6],a:.85},
    {n:40, s:0.25,r:[1.2,2.2],a:1},
  ];
  let S=[];
  const R=(m,M)=>Math.random()*(M-m)+m;
  const resize=()=>{
    w = canvas.clientWidth = window.innerWidth;
    h = canvas.clientHeight = window.innerHeight;
    canvas.width = Math.floor(w*dpr);
    canvas.height = Math.floor(h*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    S=[]; L.forEach(l=>{ for(let i=0;i<l.n;i++) S.push({x:Math.random()*w,y:Math.random()*h,r:R(l.r[0],l.r[1]),s:l.s,a:R(.6*l.a,l.a)}); });
  };
  const grad=()=>{ const g=ctx.createRadialGradient(w*.5,h*.2,0,w*.5,h*.2,Math.max(w,h)); g.addColorStop(0,'#0b1d3a'); g.addColorStop(.5,'#09132a'); g.addColorStop(1,'#050915'); return g; };
  const tick=()=>{
    ctx.clearRect(0,0,w,h); ctx.fillStyle=grad(); ctx.fillRect(0,0,w,h);
    const neb = ctx.createLinearGradient(0,0,w,h); neb.addColorStop(0,'rgba(80,120,255,.10)'); neb.addColorStop(1,'rgba(180,100,255,.06)');
    ctx.fillStyle=neb; ctx.fillRect(0,0,w,h);
    for(const s of S){ ctx.globalAlpha=s.a; ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fillStyle='#cfe6ff'; ctx.fill();
      ctx.globalAlpha=s.a*.6; ctx.fillRect(s.x-s.s*2,s.y,s.r*.8,.6); s.x+=s.s; if(s.x>w+2) s.x=-2; }
    ctx.globalAlpha=1; anim=requestAnimationFrame(tick);
  };
  resize(); window.addEventListener('resize', resize); anim=requestAnimationFrame(tick);
})();
</script>
</body>
</html>
